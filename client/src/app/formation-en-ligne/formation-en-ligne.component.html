<app-navbar></app-navbar>

<div class="min-h-screen w-full bg-gradient-to-r from-indigo-50 to-purple-50 py-10 px-4">

  <div class="flex flex-col md:flex-row max-w-7xl mx-auto gap-8">

    <!-- Main Video Player -->
    <section class="md:flex-1 space-y-4" *ngIf="detail">
      <div class="w-full aspect-video bg-black rounded-xl overflow-hidden shadow-xl">
        <video
          *ngIf="detail.video"
          [src]="detail.video"
          controls
          preload="metadata"
          class="w-full h-full object-cover"
        >
          Your browser does not support the video tag.
        </video>
      </div>
      <h2 class="text-indigo-800 text-2xl font-semibold">{{ detail.title }}</h2>
    </section>

    <!-- Sidebar with Video Previews -->
    <aside class="md:w-96 space-y-6 overflow-y-auto max-h-[80vh] p-4 bg-white/70 rounded-xl shadow-lg">
      <h2 class="text-xl font-bold border-l-4 border-indigo-500 pl-3 text-indigo-700">
        Vid√©os de la formation de {{ detail.theme_formation }}
      </h2>

      <div class="space-y-4">
        <div
          *ngFor="let training of trainings"
          (click)="loadVideo(training)"
          class="flex items-center gap-4 bg-white rounded-lg p-3 cursor-pointer hover:bg-purple-100 transition border border-indigo-100"
        >
          <!-- Video Thumbnail Preview -->
          <div class="w-28 h-16 rounded overflow-hidden flex-shrink-0 shadow-md">
            <video
              [src]="training.url"
              muted
              preload="metadata"
              class="w-full h-full object-cover pointer-events-none"
            ></video>
          </div>

          <!-- Video Title -->
          <div class="flex-1">
            <h3 class="text-gray-800 font-medium truncate">{{ training.title }}</h3>
          </div>
        </div>
      </div>
    </aside>

  </div>

</div>

<app-footer></app-footer>
